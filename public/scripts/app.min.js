"use strict";function CadastroCtrl(e,o,a,r){function n(){f.dados={nome:"",cpf:"",rg:"",nascimento:"",sexo:""}}function t(){f.endereco={cep:"",cepBkp:"",estado:{id:"",uf:"",nome:""},cidade:{id:"",nome:""},bairro:{id:"",nome:""},logradouro:"",numero:"",complemento:"",city_array:[],district_array:[]}}function i(){f.entrega={cep:"",cepBkp:"",estado:{id:"",uf:"",nome:""},cidade:{id:"",nome:""},bairro:{id:"",nome:""},logradouro:"",numero:"",complemento:"",city_array:[],district_array:[]}}function d(){f.contato={email:"",telefone:"",cel1:{numero:"",operadora:"",whatsapp:""},cel2:{numero:"",operadora:"",whatsapp:""}}}function c(){f.bancario={banco:"",agencia:"",conta:"",tipo:""}}function l(){var e=!0;return f.dados.nome||(jQuery('input[ng-model="cadastro.dados.nome"]').css("border","1px solid red"),e=!1),f.dados.cpf||(jQuery('input[ng-model="cadastro.dados.cpf"]').css("border","1px solid red"),e=!1),f.dados.rg||(jQuery('input[ng-model="cadastro.dados.rg"]').css("border","1px solid red"),e=!1),f.dados.nascimento||(jQuery('input[ng-model="cadastro.dados.nascimento"]').css("border","1px solid red"),e=!1),f.dados.sexo||(jQuery('.custom-select[name="selectSexo"]').css("border","1px solid red"),e=!1),e}function s(){var e=!0;return f.endereco.cep||(jQuery('input[ng-model="cadastro.endereco.cep"]').css("border","1px solid red"),e=!1),f.endereco.estado.nome||(jQuery('div[name="selectEstado"]').eq(0).css("border","1px solid red"),e=!1),f.endereco.cidade.nome||(jQuery('div[name="selectCidade"]').eq(0).css("border","1px solid red"),e=!1),f.endereco.bairro.nome||(jQuery('div[name="selectBairro"]').eq(0).css("border","1px solid red"),e=!1),f.endereco.logradouro||(jQuery('input[ng-model="cadastro.endereco.logradouro"]').css("border","1px solid red"),e=!1),f.endereco.numero||(jQuery('input[ng-model="cadastro.endereco.numero"]').css("border","1px solid red"),e=!1),console.log("Endereco: "+e),e}function u(){var e=!0;return f.entrega.cep||(jQuery('input[ng-model="cadastro.entrega.cep"]').css("border","1px solid red"),e=!1),f.entrega.estado.nome||(jQuery('div[name="selectEstado"]').eq(1).css("border","1px solid red"),e=!1),f.entrega.cidade.nome||(jQuery('div[name="selectCidade"]').eq(1).css("border","1px solid red"),e=!1),f.entrega.bairro.nome||(jQuery('div[name="selectBairro"]').eq(1).css("border","1px solid red"),e=!1),f.entrega.logradouro||(jQuery('input[ng-model="cadastro.entrega.logradouro"]').css("border","1px solid red"),e=!1),f.entrega.numero||(jQuery('input[ng-model="cadastro.entrega.numero"]').css("border","1px solid red"),e=!1),console.log("\nEntrega: "+e),e}function m(){var e=!0;return f.contato.email||(jQuery('input[ng-model="cadastro.contato.email"]').css("border","1px solid red"),e=!1),f.contato.cel1.numero||(jQuery('input[ng-model="cadastro.contato.cel1.numero"]').css("border","1px solid red"),e=!1),f.contato.cel1.operadora||(jQuery('input[ng-model="cadastro.contato.cel1.operadora"]').css("border","1px solid red"),e=!1),f.contato.cel1.whatsapp||(jQuery('.custom-select[name="cel1.whatsapp"]').css("border","1px solid red"),e=!1),e}function p(){var e=!0;return f.bancario.banco||(jQuery('.custom-select[name="selectBanco"]').css("border","1px solid red"),e=!1),f.bancario.agencia||(jQuery('input[ng-model="cadastro.bancario.agencia"]').css("border","1px solid red"),e=!1),f.bancario.conta||(jQuery('input[ng-model="cadastro.bancario.conta"]').css("border","1px solid red"),e=!1),f.bancario.tipo||(jQuery('.custom-select[name="tipo"]').css("border","1px solid red"),e=!1),e}function g(){jQuery("input, .custom-select").css("border","none");var e=l(),o=s(),a=u(),r=m(),n=p();return e&&o&&a&&r&&n&&!0}var f=this,h=!0;this.api="",this.uf_array=[],this.bank_array=[],function(){e.loading.load(),a({method:"GET",url:f.api+"api.php?action=get_ufs"}).then(function(o){f.uf_array=[],angular.forEach(o.data.data,function(e){f.uf_array.push(e)}),e.loading.unload()},function(o){console.log(o),e.loading.unload()})}(),function(){e.loading.load(),a({method:"GET",url:f.api+"api.php?action=get_banks"}).then(function(o){f.bank_array=[],angular.forEach(o.data.data,function(e){f.bank_array.push(e)}),f.bank_array.sort(function(e,o){return parseInt(e.bank_code)<parseInt(o.bank_code)?-1:parseInt(e.bank_code)>parseInt(o.bank_code)?1:0}),e.loading.unload()},function(o){console.log(o),e.loading.unload()})}(),f.dados={},f.endereco={},f.entrega={},f.contato={},f.bancario={},function(){n(),t(),i(),d(),c(),o.$watch(function(e){return f.endereco},function(e,o){h&&angular.copy(e,f.entrega)},!0)}(),f.selecionaEstado=function(o,n,t){o.estado.id=n.uf_id,o.estado.uf=n.uf_code,o.estado.nome=n.uf_name,o.cidade={id:"",nome:""},o.bairro={id:"",nome:""},o.city_array=[],e.loading.load(),a({method:"POST",url:f.api+"api.php?action=get_citys",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r({uf_id:n.uf_id})}).then(function(a){angular.forEach(a.data.data,function(e){o.city_array.push(e),null!=t&&t.ibge==e.city_ibge&&f.selecionaCidade(o,e,t)}),e.loading.unload()},function(o){console.log(o),e.loading.unload()})},f.selecionaCidade=function(o,n,t){o.cidade.id=n.city_id,o.cidade.nome=n.city_name,o.bairro={id:"",nome:""},o.district_array=[],e.loading.load(),a({method:"POST",url:f.api+"api.php?action=get_districts",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r({city_id:n.city_id})}).then(function(a){angular.forEach(a.data.data,function(e){o.district_array.push(e),null!=t&&t.bairro==e.district_name&&(f.selecionaBairro(o,e),o.logradouro=t.logradouro,o.complemento=t.complemento)}),e.loading.unload()},function(o){console.log(o),e.loading.unload()})},f.selecionaBairro=function(e,o){e.bairro.id=o.district_id,e.bairro.nome=o.district_name},f.bindEnderecos=function(e){h=e,e?angular.copy(f.endereco,f.entrega):i()},f.getCEP=function(o){o.cep&&10==o.cep.length&&(e.loading.load(),a({url:"http://viacep.com.br/ws/"+o.cep.replace(".","")+"/json/",method:"GET"}).then(function(a){o.cepBkp=o.cep,f.getUF(o,a.data),e.loading.unload()},function(o){e.loading.unload()}))},f.getUF=function(o,n){e.loading.load(),a({url:f.api+"api.php?action=get_uf",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r({uf_code:n.uf})}).then(function(a){f.selecionaEstado(o,a.data.data,n),e.loading.unload()},function(o){e.loading.unload()})},f.submit=function(){if(!g())return void jQuery("#modal-warning").modal("show");var n={};delete f.endereco.city_array,delete f.endereco.district_array,delete f.entrega.city_array,delete f.entrega.district_array,n.dados=f.dados,n.enderecos_iguais=o.bind,n.endereco=f.endereco,n.entrega=f.entrega,n.contato=f.contato,n.bancario=f.bancario,n.rede=f.rede,e.loading.load(),a({url:f.api+"mail.php?action=register",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r(n)}).then(function(o){f.limpar(),e.loading.unload(),jQuery("#modal-confirm").modal("show")},function(o){e.loading.unload(),jQuery("#modal-error").modal("show")})},this.limpar=function(){n(),t(),i(),d(),c()},f.perguntar=function(){jQuery("#modal-perguntar").modal("show")}}function EntrarCtrl(e,o,a,r){this.login=function(n,t){if(n&&t){var i=this;e.loading.load(),o({url:"/admin/login.php?site=1",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r({user_user:n,user_pass:t})}).then(function(o){e.loading.unload(),a.location.href="/admin"},function(o){console.log(o),i.erro="UsuÃ¡rio ou senhas incorretos.",e.loading.unload()})}}}function FaleConoscoCtrl(e,o,a,r){function n(){var e=!0;return jQuery("input, textarea").css("border","none"),o.nome||(jQuery('input[ng-model="nome"]').css("border","1px solid red"),e=!1),o.email||(jQuery('input[ng-model="email"]').css("border","1px solid red"),e=!1),o.mensagem||(jQuery('textarea[ng-model="mensagem"]').css("border","1px solid red"),e=!1),e}this.submit=function(){if(!n())return void jQuery("#modal-warning").modal("show");e.loading.load(),a({url:"./mail.php?action=contact",method:"POST",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:r({name:o.nome,email:o.email,message:o.mensagem})}).then(function(a){o.nome="",o.email="",o.mensagem="",e.loading.unload(),jQuery("#modal-confirm").modal("show")},function(o){e.loading.unload(),jQuery("#modal-error").modal("show")})}}function HomeCtrl(){}function KitsCtrl(e){var o=this;this.array=[],function(){e({method:"GET",url:"http://172.16.0.82/mercado-amigo/public/api.php?action=get_kits"}).then(function(e){o.array=[],angular.forEach(e.data.data,function(e){var a={id:e.kit_id,nome:e.kit_name,value:e.kit_value,itens:[]};angular.forEach(e.KitItem,function(e){a.itens.push(e.kit_item_amount+" "+e.Product.product_name)}),o.array.push(a)}),console.log(o.array)},function(e){console.log(e)})}()}angular.module("mercado_amigo.controllers",[]),angular.module("mercado_amigo.directives",[]),angular.module("mercado_amigo",["ngAnimate","ngRoute","ngSanitize","ngTouch","mercado_amigo.controllers","mercado_amigo.directives","ui.mask","egmfilho.keys"]).config(["$locationProvider",function(e){e.hashPrefix(""),e.html5Mode({enabled:!0,requireBase:!1})}]).config(["$routeProvider",function(e){e.when("/",{name:"home",templateUrl:"views/home.html",controller:"HomeCtrl",controllerAs:"home"}).when("/quem-somos",{name:"quem-somos",templateUrl:"views/quem-somos.html"}).when("/sistema",{name:"sistema",templateUrl:"views/sistema.html"}).when("/kits",{name:"kits",templateUrl:"views/kits.html",controller:"KitsCtrl",controllerAs:"kits"}).when("/cadastre-se",{name:"cadastre-se",templateUrl:"views/cadastre-se.html",controller:"CadastroCtrl",controllerAs:"cadastro"}).when("/fale-conosco",{name:"fale-conosco",templateUrl:"views/fale-conosco.html",controller:"FaleConoscoCtrl",controllerAs:"faleConosco"}).when("/entrar",{name:"entrar",templateUrl:"views/entrar.html",controller:"EntrarCtrl",controllerAs:"entrar"}).otherwise({redirectTo:"/"})}]).run(["$rootScope","$window",function(e,o){e.loading={count:0,isLoading:function(){return this.count>0},load:function(){this.count++},unload:function(){--this.count<0&&(this.count=0)}};var a=jQuery("nav.navbar.navbar-default"),r=jQuery("body");angular.element(o).bind("scroll",function(e){o.innerWidth<768||(o.scrollY>=150?(a.addClass("navbar-fixed-top"),r.addClass("offset-top-50")):(a.removeClass("navbar-fixed-top"),r.removeClass("offset-top-50")))}),e.getNumber=function(e){return new Array(Math.max(0,Math.ceil(e)))},e.$on("$routeChangeSuccess",function(e,o,a){var r=jQuery("#navbar-collapse ul:first-child");a&&a.name?jQuery(r).find('li[name="'+a.name+'"]').removeClass("active"):jQuery(r).find("li").removeClass("active"),jQuery('#navbar-collapse ul li[name="'+o.name+'"]').addClass("active")}),jQuery(".navbar-header .navbar-brand, #navbar-collapse a").on("click",function(){o.innerWidth<768&&jQuery(".navbar-toggle").click()})}]),angular.module("mercado_amigo.controllers").controller("AboutCtrl",[function(){alert("AboutCtrl")}]),angular.module("mercado_amigo.controllers").controller("CadastroCtrl",CadastroCtrl),CadastroCtrl.$inject=["$rootScope","$scope","$http","$httpParamSerializerJQLike"],angular.module("mercado_amigo").controller("EntrarCtrl",EntrarCtrl),EntrarCtrl.$inject=["$rootScope","$http","$window","$httpParamSerializerJQLike"],angular.module("mercado_amigo.controllers").controller("FaleConoscoCtrl",FaleConoscoCtrl),FaleConoscoCtrl.$inject=["$rootScope","$scope","$http","$httpParamSerializerJQLike"],angular.module("mercado_amigo.controllers").controller("HomeCtrl",HomeCtrl),angular.module("mercado_amigo.controllers").controller("KitsCtrl",KitsCtrl),KitsCtrl.$inject=["$http"],angular.module("mercado_amigo.directives").directive("blurTo",function(){function e(e,a,r,n){a.bind("blur",function(a){window.clearTimeout(o),o=setTimeout(function(){e.$eval(r.blurTo)&&(n.$setViewValue(e.$eval(r.blurTo)),n.$render())},100)})}var o;return{require:"ngModel",restrict:"A",link:e}});
//# sourceMappingURL=maps/app.min.js.map
